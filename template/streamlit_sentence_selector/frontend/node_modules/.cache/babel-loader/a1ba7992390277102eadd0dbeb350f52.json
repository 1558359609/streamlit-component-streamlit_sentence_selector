{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\PycharmProject\\\\deeplearning\\\\streamlit_learning\\\\streamlit-component-slider\\\\frontend\\\\src\\\\MyComponent_new2.tsx\";\nimport { withStreamlitConnection } from \"streamlit-component-lib\";\nimport React, { useState } from \"react\";\n\n// function LoginComponent({args}: ComponentProps): ReactElement {\nfunction SentencesClickLabel(_ref) {\n  let {\n    args\n  } = _ref;\n  // const {parentPropsValue, onclickItem} = args || {};\n  // const {parentPropsValue}=args[\"sentences\"]\n  const {\n    sentences\n  } = args;\n  var parentPropsValue = sentences;\n  var onclickItem = [\"11\", \"dfsdfsdfsdfsdfsdfsddfsdfsdfsdfdsfsdfsdfsdfsdfsdf\"];\n  const [selectArr, setSelectArr] = useState([]);\n  const [hoverStyle, setHoverStyle] = useState({}); //hover样式\n  // 点击事件, 动态添加class颜色。并将选中的语句提交给父组件\n\n  function handleClickThisEle(item) {\n    let newSelectArr = [];\n\n    if (selectArr.includes(item)) {\n      //原来已经包含需要剔除\n      newSelectArr = selectArr.filter(oldItem => oldItem !== item);\n    } else {\n      //原来不包含需要加入\n      newSelectArr = [...selectArr, item];\n    }\n\n    setSelectArr(newSelectArr);\n    console.log('你选择的语句有 => ', [...newSelectArr]); // 抛出去给后端\n    // onclickItem([...newSelectArr]);\n\n    console.log(\"抛出后台\");\n    console.log([...newSelectArr]);\n  } // hover事件-hover样式\n\n\n  function toggleHover(type) {\n    const nowStyle = type === 'enter' ? {\n      background: 'lightblue',\n      padding: '3px'\n    } : {};\n    setHoverStyle(nowStyle);\n  }\n\n  return (\n    /*#__PURE__*/\n    //   <div className=\"tag\">\n    // <span\n    //     className=\"sentence\"\n    //     style={{\n    //         lineHeight: '30px',\n    //         height: '30px',\n    //         marginLeft: '5px',\n    //         border: '1px #cdcdcd solid',\n    //         padding: '2px',\n    //         borderRadius: '4px',\n    //         cursor: 'pointer',\n    //         transitionProperty: 'all',\n    //     }}\n    // >\n    //   {parentPropsValue?.map((item: any, index: number) => {\n    //       return (\n    //           <span\n    //               key={index}\n    //               onClick={() => handleClickThisEle(item)}\n    //               onMouseEnter={() => toggleHover('enter')}\n    //               onMouseLeave={() => toggleHover('leave')}\n    //               className={selectArr.includes(item) ? 'selected' : ''}\n    //               style={\n    //                   selectArr.includes(item)\n    //                       ? {...hoverStyle, background: 'lightgreen', cursor: 'pointer'}\n    //                       : {...hoverStyle, cursor: 'pointer'}\n    //               }\n    //           >\n    //         {item}\n    //       </span>\n    //       );\n    //   })}\n    // </span>\n    //   </div>\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, \"sdfsdfsdfsd\")\n  );\n}\n\nexport default withStreamlitConnection(SentencesClickLabel);","map":{"version":3,"names":["withStreamlitConnection","React","useState","SentencesClickLabel","args","sentences","parentPropsValue","onclickItem","selectArr","setSelectArr","hoverStyle","setHoverStyle","handleClickThisEle","item","newSelectArr","includes","filter","oldItem","console","log","toggleHover","type","nowStyle","background","padding"],"sources":["D:/Projects/PycharmProject/deeplearning/streamlit_learning/streamlit-component-slider/frontend/src/MyComponent_new2.tsx"],"sourcesContent":["import {\n    Streamlit,\n    StreamlitComponentBase,\n      ComponentProps,\n    withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport React, {ReactElement, ReactNode, useState} from \"react\"\nimport {stringify} from \"querystring\";\n// function LoginComponent({args}: ComponentProps): ReactElement {\nfunction SentencesClickLabel({args}: ComponentProps):ReactElement {\n    // const {parentPropsValue, onclickItem} = args || {};\n    // const {parentPropsValue}=args[\"sentences\"]\n    const{sentences}=args\n    var parentPropsValue=sentences\n    var onclickItem=[\"11\",\"dfsdfsdfsdfsdfsdfsddfsdfsdfsdfdsfsdfsdfsdfsdfsdf\"]\n    const [selectArr, setSelectArr] = useState<any>([]);\n    const [hoverStyle, setHoverStyle] = useState({}); //hover样式\n\n    // 点击事件, 动态添加class颜色。并将选中的语句提交给父组件\n    function handleClickThisEle(item: any) {\n        let newSelectArr = [];\n        if (selectArr.includes(item)) {\n            //原来已经包含需要剔除\n            newSelectArr = selectArr.filter((oldItem: any) => oldItem !== item);\n        } else {\n            //原来不包含需要加入\n            newSelectArr = [...selectArr, item];\n        }\n        setSelectArr(newSelectArr);\n        console.log('你选择的语句有 => ', [...newSelectArr]);\n\n        // 抛出去给后端\n        // onclickItem([...newSelectArr]);\n        console.log(\"抛出后台\")\n        console.log([...newSelectArr])\n\n    }\n\n    // hover事件-hover样式\n    function toggleHover(type: any) {\n        const nowStyle =\n            type === 'enter'\n                ? {\n                    background: 'lightblue',\n                    padding: '3px',\n                }\n                : {};\n\n        setHoverStyle(nowStyle);\n    }\n\n    return (\n      //   <div className=\"tag\">\n      // <span\n      //     className=\"sentence\"\n      //     style={{\n      //         lineHeight: '30px',\n      //         height: '30px',\n      //         marginLeft: '5px',\n      //         border: '1px #cdcdcd solid',\n      //         padding: '2px',\n      //         borderRadius: '4px',\n      //         cursor: 'pointer',\n      //         transitionProperty: 'all',\n      //     }}\n      // >\n      //   {parentPropsValue?.map((item: any, index: number) => {\n      //       return (\n      //           <span\n      //               key={index}\n      //               onClick={() => handleClickThisEle(item)}\n      //               onMouseEnter={() => toggleHover('enter')}\n      //               onMouseLeave={() => toggleHover('leave')}\n      //               className={selectArr.includes(item) ? 'selected' : ''}\n      //               style={\n      //                   selectArr.includes(item)\n      //                       ? {...hoverStyle, background: 'lightgreen', cursor: 'pointer'}\n      //                       : {...hoverStyle, cursor: 'pointer'}\n      //               }\n      //           >\n      //         {item}\n      //       </span>\n      //       );\n      //   })}\n      // </span>\n      //   </div>\n        <div>\n            sdfsdfsdfsd\n        </div>\n    );\n}\nexport default withStreamlitConnection(SentencesClickLabel)\n"],"mappings":";AAAA,SAIIA,uBAJJ,QAKO,yBALP;AAMA,OAAOC,KAAP,IAAwCC,QAAxC,QAAuD,OAAvD;;AAEA;AACA,SAASC,mBAAT,OAAkE;EAAA,IAArC;IAACC;EAAD,CAAqC;EAC9D;EACA;EACA,MAAK;IAACC;EAAD,IAAYD,IAAjB;EACA,IAAIE,gBAAgB,GAACD,SAArB;EACA,IAAIE,WAAW,GAAC,CAAC,IAAD,EAAM,kDAAN,CAAhB;EACA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAM,EAAN,CAA1C;EACA,MAAM,CAACQ,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,EAAD,CAA5C,CAP8D,CAOZ;EAElD;;EACA,SAASU,kBAAT,CAA4BC,IAA5B,EAAuC;IACnC,IAAIC,YAAY,GAAG,EAAnB;;IACA,IAAIN,SAAS,CAACO,QAAV,CAAmBF,IAAnB,CAAJ,EAA8B;MAC1B;MACAC,YAAY,GAAGN,SAAS,CAACQ,MAAV,CAAkBC,OAAD,IAAkBA,OAAO,KAAKJ,IAA/C,CAAf;IACH,CAHD,MAGO;MACH;MACAC,YAAY,GAAG,CAAC,GAAGN,SAAJ,EAAeK,IAAf,CAAf;IACH;;IACDJ,YAAY,CAACK,YAAD,CAAZ;IACAI,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,CAAC,GAAGL,YAAJ,CAA3B,EAVmC,CAYnC;IACA;;IACAI,OAAO,CAACC,GAAR,CAAY,MAAZ;IACAD,OAAO,CAACC,GAAR,CAAY,CAAC,GAAGL,YAAJ,CAAZ;EAEH,CA3B6D,CA6B9D;;;EACA,SAASM,WAAT,CAAqBC,IAArB,EAAgC;IAC5B,MAAMC,QAAQ,GACVD,IAAI,KAAK,OAAT,GACM;MACEE,UAAU,EAAE,WADd;MAEEC,OAAO,EAAE;IAFX,CADN,GAKM,EANV;IAQAb,aAAa,CAACW,QAAD,CAAb;EACH;;EAED;IAAA;IACE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA;EAnCJ;AAuCH;;AACD,eAAetB,uBAAuB,CAACG,mBAAD,CAAtC"},"metadata":{},"sourceType":"module"}