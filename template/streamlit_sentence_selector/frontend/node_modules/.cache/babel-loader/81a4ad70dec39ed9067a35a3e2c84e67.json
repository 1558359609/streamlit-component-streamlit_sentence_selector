{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\PycharmProject\\\\deeplearning\\\\streamlit_learning\\\\streamlit-component-slider\\\\frontend\\\\src\\\\MyComponent_new2.tsx\";\nimport { withStreamlitConnection } from \"streamlit-component-lib\";\nimport React, { useState } from \"react\";\n\n// function LoginComponent({args}: ComponentProps): ReactElement {\nfunction SentencesClickLabel(props) {\n  const {\n    parentPropsValue,\n    onclickItem\n  } = props || {};\n  const [selectArr, setSelectArr] = useState([]);\n  const [hoverStyle, setHoverStyle] = useState({}); //hover样式\n  // 点击事件, 动态添加class颜色。并将选中的语句提交给父组件\n\n  function handleClickThisEle(item) {\n    let newSelectArr = [];\n\n    if (selectArr.includes(item)) {\n      //原来已经包含需要剔除\n      newSelectArr = selectArr.filter(oldItem => oldItem !== item);\n    } else {\n      //原来不包含需要加入\n      newSelectArr = [...selectArr, item];\n    }\n\n    setSelectArr(newSelectArr);\n    console.log('你选择的语句有 => ', [...newSelectArr]); // 抛出去给后端\n\n    onclickItem([...newSelectArr]);\n  } // hover事件-hover样式\n\n\n  function toggleHover(type) {\n    const nowStyle = type === 'enter' ? {\n      background: 'lightblue',\n      padding: '3px'\n    } : {};\n    setHoverStyle(nowStyle);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tag\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sentence\",\n    style: {\n      lineHeight: '30px',\n      height: '30px',\n      marginLeft: '5px',\n      border: '1px #cdcdcd solid',\n      padding: '2px',\n      borderRadius: '4px',\n      cursor: 'pointer',\n      transitionProperty: 'all'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, parentPropsValue === null || parentPropsValue === void 0 ? void 0 : parentPropsValue.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      key: index,\n      onClick: () => handleClickThisEle(item),\n      onMouseEnter: () => toggleHover('enter'),\n      onMouseLeave: () => toggleHover('leave'),\n      className: selectArr.includes(item) ? 'selected' : '',\n      style: selectArr.includes(item) ? { ...hoverStyle,\n        background: 'lightgreen',\n        cursor: 'pointer'\n      } : { ...hoverStyle,\n        cursor: 'pointer'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, item);\n  })));\n}\n\nexport default withStreamlitConnection(SentencesClickLabel);","map":{"version":3,"names":["withStreamlitConnection","React","useState","SentencesClickLabel","props","parentPropsValue","onclickItem","selectArr","setSelectArr","hoverStyle","setHoverStyle","handleClickThisEle","item","newSelectArr","includes","filter","oldItem","console","log","toggleHover","type","nowStyle","background","padding","lineHeight","height","marginLeft","border","borderRadius","cursor","transitionProperty","map","index"],"sources":["D:/Projects/PycharmProject/deeplearning/streamlit_learning/streamlit-component-slider/frontend/src/MyComponent_new2.tsx"],"sourcesContent":["import {\n    Streamlit,\n    StreamlitComponentBase,\n    withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport React, {ReactElement, ReactNode, useState} from \"react\"\nimport {stringify} from \"querystring\";\n// function LoginComponent({args}: ComponentProps): ReactElement {\nfunction SentencesClickLabel(props: any):ReactElement {\n    const {parentPropsValue, onclickItem} = props || {};\n    const [selectArr, setSelectArr] = useState<any>([]);\n    const [hoverStyle, setHoverStyle] = useState({}); //hover样式\n\n    // 点击事件, 动态添加class颜色。并将选中的语句提交给父组件\n    function handleClickThisEle(item: any) {\n        let newSelectArr = [];\n        if (selectArr.includes(item)) {\n            //原来已经包含需要剔除\n            newSelectArr = selectArr.filter((oldItem: any) => oldItem !== item);\n        } else {\n            //原来不包含需要加入\n            newSelectArr = [...selectArr, item];\n        }\n        setSelectArr(newSelectArr);\n        console.log('你选择的语句有 => ', [...newSelectArr]);\n\n        // 抛出去给后端\n        onclickItem([...newSelectArr]);\n    }\n\n    // hover事件-hover样式\n    function toggleHover(type: any) {\n        const nowStyle =\n            type === 'enter'\n                ? {\n                    background: 'lightblue',\n                    padding: '3px',\n                }\n                : {};\n\n        setHoverStyle(nowStyle);\n    }\n\n    return (\n        <div className=\"tag\">\n      <span\n          className=\"sentence\"\n          style={{\n              lineHeight: '30px',\n              height: '30px',\n              marginLeft: '5px',\n              border: '1px #cdcdcd solid',\n              padding: '2px',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              transitionProperty: 'all',\n          }}\n      >\n        {parentPropsValue?.map((item: any, index: number) => {\n            return (\n                <span\n                    key={index}\n                    onClick={() => handleClickThisEle(item)}\n                    onMouseEnter={() => toggleHover('enter')}\n                    onMouseLeave={() => toggleHover('leave')}\n                    className={selectArr.includes(item) ? 'selected' : ''}\n                    style={\n                        selectArr.includes(item)\n                            ? {...hoverStyle, background: 'lightgreen', cursor: 'pointer'}\n                            : {...hoverStyle, cursor: 'pointer'}\n                    }\n                >\n              {item}\n            </span>\n            );\n        })}\n      </span>\n        </div>\n    );\n}\nexport default withStreamlitConnection(SentencesClickLabel)\n"],"mappings":";AAAA,SAGIA,uBAHJ,QAIO,yBAJP;AAKA,OAAOC,KAAP,IAAwCC,QAAxC,QAAuD,OAAvD;;AAEA;AACA,SAASC,mBAAT,CAA6BC,KAA7B,EAAsD;EAClD,MAAM;IAACC,gBAAD;IAAmBC;EAAnB,IAAkCF,KAAK,IAAI,EAAjD;EACA,MAAM,CAACG,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAM,EAAN,CAA1C;EACA,MAAM,CAACO,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,CAAC,EAAD,CAA5C,CAHkD,CAGA;EAElD;;EACA,SAASS,kBAAT,CAA4BC,IAA5B,EAAuC;IACnC,IAAIC,YAAY,GAAG,EAAnB;;IACA,IAAIN,SAAS,CAACO,QAAV,CAAmBF,IAAnB,CAAJ,EAA8B;MAC1B;MACAC,YAAY,GAAGN,SAAS,CAACQ,MAAV,CAAkBC,OAAD,IAAkBA,OAAO,KAAKJ,IAA/C,CAAf;IACH,CAHD,MAGO;MACH;MACAC,YAAY,GAAG,CAAC,GAAGN,SAAJ,EAAeK,IAAf,CAAf;IACH;;IACDJ,YAAY,CAACK,YAAD,CAAZ;IACAI,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,CAAC,GAAGL,YAAJ,CAA3B,EAVmC,CAYnC;;IACAP,WAAW,CAAC,CAAC,GAAGO,YAAJ,CAAD,CAAX;EACH,CApBiD,CAsBlD;;;EACA,SAASM,WAAT,CAAqBC,IAArB,EAAgC;IAC5B,MAAMC,QAAQ,GACVD,IAAI,KAAK,OAAT,GACM;MACEE,UAAU,EAAE,WADd;MAEEC,OAAO,EAAE;IAFX,CADN,GAKM,EANV;IAQAb,aAAa,CAACW,QAAD,CAAb;EACH;;EAED,oBACI;IAAK,SAAS,EAAC,KAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACF;IACI,SAAS,EAAC,UADd;IAEI,KAAK,EAAE;MACHG,UAAU,EAAE,MADT;MAEHC,MAAM,EAAE,MAFL;MAGHC,UAAU,EAAE,KAHT;MAIHC,MAAM,EAAE,mBAJL;MAKHJ,OAAO,EAAE,KALN;MAMHK,YAAY,EAAE,KANX;MAOHC,MAAM,EAAE,SAPL;MAQHC,kBAAkB,EAAE;IARjB,CAFX;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAaGzB,gBAbH,aAaGA,gBAbH,uBAaGA,gBAAgB,CAAE0B,GAAlB,CAAsB,CAACnB,IAAD,EAAYoB,KAAZ,KAA8B;IACjD,oBACI;MACI,GAAG,EAAEA,KADT;MAEI,OAAO,EAAE,MAAMrB,kBAAkB,CAACC,IAAD,CAFrC;MAGI,YAAY,EAAE,MAAMO,WAAW,CAAC,OAAD,CAHnC;MAII,YAAY,EAAE,MAAMA,WAAW,CAAC,OAAD,CAJnC;MAKI,SAAS,EAAEZ,SAAS,CAACO,QAAV,CAAmBF,IAAnB,IAA2B,UAA3B,GAAwC,EALvD;MAMI,KAAK,EACDL,SAAS,CAACO,QAAV,CAAmBF,IAAnB,IACM,EAAC,GAAGH,UAAJ;QAAgBa,UAAU,EAAE,YAA5B;QAA0CO,MAAM,EAAE;MAAlD,CADN,GAEM,EAAC,GAAGpB,UAAJ;QAAgBoB,MAAM,EAAE;MAAxB,CATd;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAYDjB,IAZC,CADJ;EAgBH,CAjBA,CAbH,CADE,CADJ;AAoCH;;AACD,eAAeZ,uBAAuB,CAACG,mBAAD,CAAtC"},"metadata":{},"sourceType":"module"}