{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\PycharmProject\\\\deeplearning\\\\streamlit_learning\\\\streamlit-component-slider\\\\frontend\\\\src\\\\MyComponent_new.tsx\";\nimport { StreamlitComponentBase, withStreamlitConnection } from \"streamlit-component-lib\";\nimport React from \"react\";\n\n//类\nclass SentencesClickLabel extends StreamlitComponentBase {\n  constructor() {\n    super(...arguments);\n    this.useState = {\n      selectArr: [],\n      setSelectArr: []\n    };\n\n    this.render = () => {\n      // const {parentPropsValue, onclickItem} = props || {};\n      var parentPropsValue = this.props.args[\"sentences\"]; // const [selectArr, setSelectArr] = useState<any>([]);\n      // const [hoverStyle, setHoverStyle] = useState({}); //hover样式\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tag\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sentence\" // style={{\n        //     lineHeight: '30px',\n        //     height: '30px',\n        //     marginLeft: '5px',\n        //     border: '1px #cdcdcd solid',\n        //     padding: '2px',\n        //     borderRadius: '4px',\n        //     cursor: 'pointer',\n        //     transitionProperty: 'all',\n        // }}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 7\n        }\n      }, parentPropsValue === null || parentPropsValue === void 0 ? void 0 : parentPropsValue.map((item, index) => {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          key: index // onClick={() => this.handleClickThisEle(item)}\n          // onMouseEnter={() => this.state.toggleHover('enter')}\n          // onMouseLeave={() => this.state.toggleHover('leave')}\n          // className={selectArr.includes(item) ? 'selected' : ''}\n          // style={\n          //     selectArr.includes(item)\n          //         ? {...hoverStyle, background: 'lightgreen', cursor: 'pointer'}\n          //         : {...hoverStyle, cursor: 'pointer'}\n          // }\n          ,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 17\n          }\n        }, item);\n      })));\n    };\n  } // private handleClickThisEle = (item: any): void => {\n  //     let newSelectArr = [];\n  //     if (this.state.selectArr.includes(item)) {\n  //         //原来已经包含需要剔除\n  //         newSelectArr = this.state.selectArr.filter((oldItem: any) => oldItem !== item);\n  //     } else {\n  //         //原来不包含需要加入\n  //         newSelectArr = [...this.state.selectArr, item];\n  //     }\n  //     this.state.setSelectArr(newSelectArr);\n  //     console.log('你选择的语句有 => ', [...newSelectArr]);\n  //\n  //     // 抛出去给后端\n  //     // this.state.onclickItem([...newSelectArr]);\n  //     var a = newSelectArr.join()\n  //     this.setState(\n  //         () => Streamlit.setComponentValue(a)\n  //     )\n  // }\n  // // hover事件-hover样式\n  // private toggleHover(type: any) {\n  //     const nowStyle =\n  //         type === 'enter'\n  //             ? {\n  //                 background: 'lightblue',\n  //                 padding: '3px',\n  //             }\n  //             : {};\n  //     this.state.setHoverStyle(nowStyle);\n  // }\n\n\n}\n\nexport default withStreamlitConnection(SentencesClickLabel);","map":{"version":3,"names":["StreamlitComponentBase","withStreamlitConnection","React","SentencesClickLabel","useState","selectArr","setSelectArr","render","parentPropsValue","props","args","map","item","index"],"sources":["D:/Projects/PycharmProject/deeplearning/streamlit_learning/streamlit-component-slider/frontend/src/MyComponent_new.tsx"],"sourcesContent":["import {\n    Streamlit,\n    StreamlitComponentBase,\n    withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport React, {ReactNode, useState} from \"react\"\nimport {stringify} from \"querystring\";\n\n//类\nclass SentencesClickLabel extends StreamlitComponentBase<any> {\n    // 点击事件, 动态添加class颜色。并将选中的语句提交给父组件\n    public useState = {selectArr: [], setSelectArr: []};\n\n    //渲染方法\n    public render = (): ReactNode => {\n\n        // const {parentPropsValue, onclickItem} = props || {};\n        var parentPropsValue = this.props.args[\"sentences\"]\n        // const [selectArr, setSelectArr] = useState<any>([]);\n        // const [hoverStyle, setHoverStyle] = useState({}); //hover样式\n\n        return (\n            <div className=\"tag\">\n      <span\n          className=\"sentence\"\n          // style={{\n          //     lineHeight: '30px',\n          //     height: '30px',\n          //     marginLeft: '5px',\n          //     border: '1px #cdcdcd solid',\n          //     padding: '2px',\n          //     borderRadius: '4px',\n          //     cursor: 'pointer',\n          //     transitionProperty: 'all',\n          // }}\n      >\n        {parentPropsValue?.map((item: any, index: number) => {\n            return (\n                <span\n                    key={index}\n                    // onClick={() => this.handleClickThisEle(item)}\n                    // onMouseEnter={() => this.state.toggleHover('enter')}\n                    // onMouseLeave={() => this.state.toggleHover('leave')}\n                    // className={selectArr.includes(item) ? 'selected' : ''}\n                    // style={\n                    //     selectArr.includes(item)\n                    //         ? {...hoverStyle, background: 'lightgreen', cursor: 'pointer'}\n                    //         : {...hoverStyle, cursor: 'pointer'}\n                    // }\n                >\n              {item}\n            </span>\n            );\n        })}\n      </span>\n            </div>\n        );\n    }\n    // private handleClickThisEle = (item: any): void => {\n    //     let newSelectArr = [];\n    //     if (this.state.selectArr.includes(item)) {\n    //         //原来已经包含需要剔除\n    //         newSelectArr = this.state.selectArr.filter((oldItem: any) => oldItem !== item);\n    //     } else {\n    //         //原来不包含需要加入\n    //         newSelectArr = [...this.state.selectArr, item];\n    //     }\n    //     this.state.setSelectArr(newSelectArr);\n    //     console.log('你选择的语句有 => ', [...newSelectArr]);\n    //\n    //     // 抛出去给后端\n    //     // this.state.onclickItem([...newSelectArr]);\n    //     var a = newSelectArr.join()\n    //     this.setState(\n    //         () => Streamlit.setComponentValue(a)\n    //     )\n    // }\n    // // hover事件-hover样式\n    // private toggleHover(type: any) {\n    //     const nowStyle =\n    //         type === 'enter'\n    //             ? {\n    //                 background: 'lightblue',\n    //                 padding: '3px',\n    //             }\n    //             : {};\n    //     this.state.setHoverStyle(nowStyle);\n    // }\n}\n\nexport default withStreamlitConnection(SentencesClickLabel)\n"],"mappings":";AAAA,SAEIA,sBAFJ,EAGIC,uBAHJ,QAIO,yBAJP;AAKA,OAAOC,KAAP,MAAyC,OAAzC;;AAGA;AACA,MAAMC,mBAAN,SAAkCH,sBAAlC,CAA8D;EAAA;IAAA;IAAA,KAEnDI,QAFmD,GAExC;MAACC,SAAS,EAAE,EAAZ;MAAgBC,YAAY,EAAE;IAA9B,CAFwC;;IAAA,KAKnDC,MALmD,GAK1C,MAAiB;MAE7B;MACA,IAAIC,gBAAgB,GAAG,KAAKC,KAAL,CAAWC,IAAX,CAAgB,WAAhB,CAAvB,CAH6B,CAI7B;MACA;;MAEA,oBACI;QAAK,SAAS,EAAC,KAAf;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACN;QACI,SAAS,EAAC,UADd,CAEI;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QAXJ;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAaGF,gBAbH,aAaGA,gBAbH,uBAaGA,gBAAgB,CAAEG,GAAlB,CAAsB,CAACC,IAAD,EAAYC,KAAZ,KAA8B;QACjD,oBACI;UACI,GAAG,EAAEA,KADT,CAEI;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UAVJ;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,GAYDD,IAZC,CADJ;MAgBH,CAjBA,CAbH,CADM,CADJ;IAoCH,CAhDyD;EAAA,EAiD1D;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;AA9E0D;;AAiF9D,eAAeX,uBAAuB,CAACE,mBAAD,CAAtC"},"metadata":{},"sourceType":"module"}